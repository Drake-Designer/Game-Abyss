{# SHARED: Navbar #}
<nav class="navbar navbar-expand-lg navbar-dark fixed-top comp-navbar">
  <div class="container align-items-center">
    <!-- Brand -->
    <a class="navbar-brand comp-navbar__brand" href="{% url 'pages:home' %}">Game Abyss</a>
    <!-- Right cluster: desktop New Post + burger -->
    <div class="d-flex align-items-center ms-auto order-lg-2">
      {% if user.is_authenticated %}
        <!-- Desktop New Post -->
        <a class="comp-button comp-button--primary comp-button--sm d-none d-lg-inline-flex comp-navbar__newpost"
           href="{% url 'blog:new' %}">
          <i class="fa-solid fa-plus"></i>
          <span>New Post</span>
        </a>
      {% endif %}
      <button class="navbar-toggler ms-2"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#mainNav"
              aria-controls="mainNav"
              aria-expanded="false"
              aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <!-- Collapsible menu -->
    <div class="collapse navbar-collapse order-lg-1" id="mainNav">
      <ul class="navbar-nav me-lg-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link comp-navbar__link" href="{% url 'pages:home' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link comp-navbar__link" href="{% url 'pages:about' %}">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link comp-navbar__link" href="{% url 'pages:contact' %}">Contact</a>
        </li>
        <li class="nav-item">
          <a class="nav-link comp-navbar__link" href="{% url 'blog:index' %}">Blog</a>
        </li>
      </ul>
      <ul class="navbar-nav ms-lg-auto align-items-lg-center">
        {% if user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link comp-navbar__link"
               href="{% url 'accounts:profile' request.user.username %}">Profile</a>
          </li>
          <!-- Mobile New Post inside menu -->
          <li class="nav-item d-lg-none comp-navbar__action">
            <a class="comp-button comp-button--outline comp-button--sm comp-navbar__btn d-inline-flex align-items-center justify-content-center gap-2"
               href="{% url 'blog:new' %}">
              <i class="fa-solid fa-plus"></i>
              <span>New Post</span>
            </a>
          </li>
          <!-- Mobile Logout inside menu -->
          <li class="nav-item comp-navbar__action">
            <form action="{% url 'account_logout' %}" method="post" class="d-inline">
              {% csrf_token %}
              <button class="comp-button comp-button--outline comp-button--sm comp-navbar__btn"
                      type="submit">Logout</button>
            </form>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="nav-link comp-navbar__link" href="{% url 'account_login' %}">Login</a>
          </li>
          <li class="nav-item ms-lg-2">
            <a class="comp-button comp-button--primary comp-button--sm"
               href="{% url 'account_signup' %}">Register</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
{# END SHARED: Navbar #}
